var y=Object.defineProperty;var h=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;var _=(a,e,s)=>e in a?y(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s,p=(a,e)=>{for(var s in e||(e={}))I.call(e,s)&&_(a,s,e[s]);if(h)for(var s of h(e))f.call(e,s)&&_(a,s,e[s]);return a};import{i as T,j as t}from"./main-165.js";import{j as $,_ as d,k as M,l as S,T as V,G as k,o as q}from"./bi.312.95.js";import{T as R}from"./bi.953.732.js";function z({i:a,formFields:e,field:s,enchargeConf:l,setEnchargeConf:o}){var j,v,F,N;const n=s.required,r=((j=l==null?void 0:l.default)==null?void 0:j.fields)&&Object.values((v=l==null?void 0:l.default)==null?void 0:v.fields).filter(i=>!i.required),c=i=>{const m=p({},l);m.field_map.splice(i,0,{}),o(m)},g=i=>{const m=p({},l);m.field_map.length>1&&m.field_map.splice(i,1),o(m)},u=(i,m)=>{const b=p({},l);b.field_map[m][i.target.name]=i.target.value,i.target.value==="custom"&&(b.field_map[m].customValue=""),o(b)},w=T($),{isPro:x}=w;return t.jsxs("div",{className:n?"mt-2 mr-1 flx w-9":"flx mt-2 mb-2 btcbi-field-map",children:[t.jsxs("select",{className:"btcd-paper-inp mr-2",name:"formField",value:s.formField||"",onChange:i=>u(i,a),children:[t.jsxs("optgroup",{label:d("Form Fields","bit-integrations"),children:[t.jsx("option",{value:"",children:d("Select Field","bit-integrations")}),e.map(i=>i.type!=="file"&&t.jsx("option",{value:i.name,children:i.label},`ff-zhcrm-${i.name}`))]}),t.jsx("option",{value:"custom",children:d("Custom...","bit-integrations")}),t.jsx("optgroup",{label:sprintf(d("General Smart Codes %s","bit-integrations"),x?"":`(${d("Pro","bit-integrations")})`),children:x&&((F=M)==null?void 0:F.map(i=>t.jsx("option",{value:i.name,children:i.label},`ff-rm-${i.name}`)))})]}),s.formField==="custom"&&t.jsx(R,{onChange:i=>S(i,a,l,o),label:d("Custom Value","bit-integrations"),className:"mr-2",type:"text",value:s.customValue,placeholder:d("Custom Value","bit-integrations"),formFields:e}),t.jsxs("select",{className:"btcd-paper-inp",name:"enChargeFields",value:s.enChargeFields,onChange:i=>u(i,a),disabled:n,children:[t.jsx("option",{value:"",children:d("Select Field","bit-integrations")}),n?((N=l==null?void 0:l.default)==null?void 0:N.fields)&&Object.values(l.default.fields).map(i=>t.jsx("option",{value:i.fieldId,children:i.fieldName},`${i.fieldId}-1`)):r&&r.map(i=>t.jsx("option",{value:i.fieldId,children:i.fieldName},`${i.fieldId}-1`))]}),!n&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>c(a),className:"icn-btn sh-sm ml-2",type:"button",children:"+"}),t.jsx("button",{onClick:()=>g(a),className:"icn-btn sh-sm ml-2",type:"button","aria-label":"btn",children:t.jsx(V,{})})]})]})}function L({formID:a,formFields:e,enchargeConf:s,setEnchargeConf:l}){var n;const o=r=>{const c=p({},s);c[r.target.name]=r.target.value,l(c)};return t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsxs("div",{className:"flx",children:[t.jsx("b",{className:"wdt-200 d-in-b",children:d("Tags:","bit-integrations")}),t.jsx("input",{className:"btcd-paper-inp w-5 mt-1",onChange:o,name:"tags",value:s.tags||"",type:"text",placeholder:d("tag-1, tag-2","bit-integrations")}),t.jsx(k,{width:250,icnSize:17,className:"ml-2",children:t.jsx("div",{className:"txt-body",children:d("Tags separate with comma","bit-integrations")})})]}),((n=s==null?void 0:s.default)==null?void 0:n.fields)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mt-4",children:t.jsx("b",{className:"wdt-100",children:d("Map Fields","bit-integrations")})}),t.jsx("div",{className:"btcd-hr mt-1"}),t.jsxs("div",{className:"flx flx-around mt-2 mb-2 btcbi-field-map-label",children:[t.jsx("div",{className:"txt-dp",children:t.jsx("b",{children:d("Form Fields","bit-integrations")})}),t.jsx("div",{className:"txt-dp",children:t.jsx("b",{children:d("Encharge Fields","bit-integrations")})})]}),s.field_map.map((r,c)=>t.jsx(z,{i:c,field:r,enchargeConf:s,formFields:e,setEnchargeConf:l},`sendinblue-m-${c+9}`)),t.jsx("div",{className:"txt-center btcbi-field-map-button mt-2",children:t.jsx("button",{onClick:()=>q(s.field_map.length,s,l),className:"icn-btn sh-sm",type:"button",children:"+"})}),t.jsx("br",{}),t.jsx("br",{})]})]})}export{L as E};
