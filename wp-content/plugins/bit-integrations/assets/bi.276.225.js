import{u as h,l as I,e as u,r as l,i as S,j as s}from"./main-165.js";import{$ as y,g as N,h as R,d as _,_ as t,i as w,I as L,W as a,s as v}from"./bi.312.95.js";import{h as f,c as m}from"./bi.806.940.js";import{P as F}from"./bi.435.941.js";function D({allIntegURL:g}){const p=h();I();const[n,M]=u(y),[e,i]=u(N),[b,d]=l.useState(!1),[x,P]=l.useState({}),[j,r]=l.useState({show:!1}),c=S(R),C=()=>{if(!m(e)){r({show:!0,msg:t("Please map mandatory fields","bit-integrations")});return}if(e.actionName==="contact"&&!e.selectedCustomer){a.error(t("Please select a Customer","bit-integrations"));return}if(e.actionName==="lead"&&(!e.selectedLeadStatusId||!e.selectedLeadSourceId||!e.selectedStaff)){a.error(t("Lead Status Id and Lead Source Id are required!","bit-integrations"));return}if(e.actionName==="project"){if(!e.selectedProjectStatus){a.error(t("Please select Project status","bit-integrations"));return}if(!e.selectedProjectType){a.error(t("Please select Project Related With...","bit-integrations"));return}if(!e.selectedbillingType){a.error(t("Please select a Billing type","bit-integrations"));return}if(!e.selectedCustomer){a.error(t("Please select a Customer","bit-integrations"));return}if(Number(e.selectedbillingType)===1&&!e.totalRate){a.error(t("Please select a Total Rate","bit-integrations"));return}if(Number(e.selectedbillingType)===2&&!e.ratePerHour){a.error(t("Please select a Rate Per Hour","bit-integrations"));return}}v({flow:n,allIntegURL:g,conf:e,navigate:p,edit:1,setIsLoading:d,setSnackbar:r})};return s.jsxs("div",{style:{width:900},children:[s.jsx(_,{snack:j,setSnackbar:r}),s.jsxs("div",{className:"flx mt-3",children:[s.jsx("b",{className:"wdt-200 d-in-b",children:t("Integration Name:","bit-integrations")}),s.jsx("input",{className:"btcd-paper-inp w-5",onChange:o=>f(o,e,i),name:"name",value:e.name,type:"text",placeholder:t("Integration Name...","bit-integrations")})]}),s.jsx("br",{}),s.jsx(w,{entity:n.triggered_entity,setSnackbar:r}),s.jsx(F,{formID:n.triggered_entity_id,formFields:c,handleInput:o=>f(o,e,i),perfexCRMConf:e,setPerfexCRMConf:i,loading:x,setLoading:P,setIsLoading:d,setSnackbar:r}),s.jsx(L,{edit:!0,saveConfig:C,disabled:!m(e),isLoading:b,dataConf:e,setDataConf:i,formFields:c}),s.jsx("br",{})]})}export{D as default};
