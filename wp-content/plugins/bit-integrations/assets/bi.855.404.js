import{u as k,l as x,r as n,j as t}from"./main-165.js";import{_ as e,d as S,I as q,s as C}from"./bi.312.95.js";import{B as j}from"./bi.430.769.js";import{S as v}from"./bi.354.971.js";import{s as I,K as N}from"./bi.516.804.js";import B from"./bi.707.275.js";import{h as A,c as L}from"./bi.998.803.js";import"./bi.953.732.js";import"./bi.422.733.js";import"./bi.40.785.js";function Z({formFields:d,setFlow:g,flow:c,allIntegURL:u}){const f=k(),{formID:p}=x(),[l,o]=n.useState(!1),[s,b]=n.useState(1),[m,a]=n.useState({show:!1}),y=[{key:"given_name",label:e("First Name","bit-integrations"),required:!0},{key:"middle_name",label:e("Last Name","bit-integrations"),required:!1},{key:"job_title",label:e("Job Title","bit-integrations"),required:!1},{key:"email_addresses",label:e("Email Addresses","bit-integrations"),required:!0},{key:"phone_numbers",label:e("Phone Numbers","bit-integrations"),required:!1},{key:"billing_country_code",label:e("Billing Country Code","bit-integrations"),required:!1},{key:"billing_locality",label:e("Billing Country","bit-integrations"),required:!1},{key:"billing_first_address_street",label:e("Billing Address Street (Line 1)","bit-integrations"),required:!1},{key:"billing_second_address_street",label:e("Billing Address Street (Line 2)","bit-integrations"),required:!1},{key:"billing_zip_code",label:e("Billing Zip Code","bit-integrations"),required:!1},{key:"shipping_country_code",label:e("Shipping Country Code","bit-integrations"),required:!1},{key:"shipping_locality",label:e("Shipping Country","bit-integrations"),required:!1},{key:"shipping_first_address_street",label:e("Shipping Address Street (Line 1)","bit-integrations"),required:!1},{key:"shipping_second_address_street",label:e("Shipping Address Street (Line 2)","bit-integrations"),required:!1},{key:"shipping_zip_code",label:e("Shipping Zip Code","bit-integrations"),required:!1},{key:"anniversary",label:e("Anniversary","bit-integrations"),required:!1},{key:"birthday",label:e("Birthday","bit-integrations"),required:!1},{key:"fax_numbers",label:e("Fax Numbers","bit-integrations"),required:!1}],[i,r]=n.useState({name:"Keap",type:"Keap",clientId:"",clientSecret:"",keapId:"",field_map:[{formField:"",keapField:""}],contactFields:y,customFields:[],actions:{}});n.useEffect(()=>{window.opener&&I("keap")},[]);const _=()=>{if(setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),!L(i)){a({show:!0,msg:e("Please map fields to continue.","bit-integrations")});return}i.field_map.length>0&&b(3)};return t.jsxs("div",{children:[t.jsx(S,{snack:m,setSnackbar:a}),t.jsx("div",{className:"txt-center mt-2",children:t.jsx(v,{step:3,active:s})}),t.jsx(B,{formID:p,keapConf:i,setKeapConf:r,step:s,setstep:b,setSnackbar:a,isLoading:l,setIsLoading:o}),t.jsxs("div",{className:"btcd-stp-page",style:{width:s===2&&900,height:s===2&&"auto"},children:[t.jsx(N,{formID:p,formFields:d,handleInput:h=>A(h,i,r),keapConf:i,setKeapConf:r,isLoading:l,setIsLoading:o,setSnackbar:a}),t.jsxs("button",{onClick:()=>_(),disabled:i.field_map.length<2,className:"btn f-right btcd-btn-lg purple sh-sm flx",type:"button",children:[e("Next","bit-integrations"),t.jsx(j,{className:"ml-1 rev-icn"})]})]}),t.jsx(q,{step:s,saveConfig:()=>C({flow:c,setFlow:g,allIntegURL:u,navigate:f,conf:i,setIsLoading:o,setSnackbar:a}),isLoading:l,dataConf:i,setDataConf:r,formFields:d})]})}export{Z as default};
