var S=Object.defineProperty;var u=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var f=(a,e,t)=>e in a?S(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,g=(a,e)=>{for(var t in e||(e={}))w.call(e,t)&&f(a,t,e[t]);if(u)for(var t of u(e))y.call(e,t)&&f(a,t,e[t]);return a};import{u as N,l as _,r as n,j as i}from"./main-165.js";import{_ as r,d as C,I as D,s as E}from"./bi.312.95.js";import{S as F}from"./bi.354.971.js";import q from"./bi.766.270.js";import{s as L,h as P,c as b}from"./bi.791.796.js";import{T as A}from"./bi.964.795.js";import"./bi.430.769.js";import"./bi.40.785.js";import"./bi.953.732.js";import"./bi.422.733.js";function V({formFields:a,setFlow:e,flow:t,allIntegURL:x}){const h=N(),{formID:j}=_(),[d,m]=n.useState(!1),[l,p]=n.useState(1),[v,o]=n.useState({show:!1}),I=[{key:"name",label:r("Name","bit-integrations"),required:!0},{key:"desc",label:r("Description","bit-integrations"),required:!1},{key:"due",label:r("Date","bit-integrations"),required:!1}],[s,c]=n.useState({name:"Trello",type:"Trello",clientId:"",listId:"",listName:"",tags:"",pos:"",field_map:[{formField:"",trelloFormField:""}],cardFields:I,address_field:[],actions:{}});n.useEffect(()=>{window.opener&&L("trello")},[]);const T=()=>{if(setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),!b(s)){o({show:!0,msg:r("Please map fields to continue.","bit-integrations")});return}s.listId!==""&&p(3)};return i.jsxs("div",{children:[i.jsx(C,{snack:v,setSnackbar:o}),i.jsx("div",{className:"txt-center mt-2",children:i.jsx(F,{step:3,active:l})}),i.jsx(q,{formID:j,trelloConf:s,setTrelloConf:c,step:l,setstep:p,isLoading:d,setIsLoading:m,setSnackbar:o}),i.jsxs("div",{className:"btcd-stp-page",style:g({},l===2&&{width:900,height:"auto",overflow:"visible"}),children:[i.jsx(A,{formFields:a,handleInput:k=>P(k,s,c),trelloConf:s,setTrelloConf:c,isLoading:d,setIsLoading:m,setSnackbar:o}),i.jsxs("button",{onClick:()=>T(),disabled:!(s!=null&&s.listId)||!b(s),className:"btn f-right btcd-btn-lg purple sh-sm flx",type:"button",children:[r("Next","bit-integrations")," Â ",i.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),i.jsx(D,{step:l,saveConfig:()=>E({flow:t,setFlow:e,allIntegURL:x,navigate:h,conf:s,setIsLoading:m,setSnackbar:o}),isLoading:d,dataConf:s,setDataConf:c,formFields:a})]})}export{V as default};
