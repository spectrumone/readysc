var C=Object.defineProperty;var f=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var b=(a,e,s)=>e in a?C(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s,g=(a,e)=>{for(var s in e||(e={}))M.call(e,s)&&b(a,s,e[s]);if(f)for(var s of f(e))A.call(e,s)&&b(a,s,e[s]);return a};import{u as w,l as N,r as u,j as n}from"./main-165.js";import{_ as o,d as _,I as z,s as D}from"./bi.312.95.js";import{S as E}from"./bi.354.971.js";import{M as T,h as F}from"./bi.317.900.js";import P from"./bi.981.321.js";import"./bi.430.769.js";import"./bi.40.785.js";function O({formFields:a,setFlow:e,flow:s,allIntegURL:m,isInfo:h,edit:x}){const v=w(),{formID:y}=N(),[i,d]=u.useState(!1),[r,p]=u.useState(1),[S,c]=u.useState({show:!1}),j=[{key:"1",label:o("Course complete for the user","bit-integrations")},{key:"2",label:o("Lesson complete for the user","bit-integrations")},{key:"3",label:o("Quiz complete for the user","bit-integrations")},{key:"4",label:o("Reset user course","bit-integrations")},{key:"5",label:o("Reset user lesson","bit-integrations")}],[t,l]=u.useState({name:"MasterStudyLms",type:"MasterStudyLms",mainAction:"",field_map:[{formField:"",msLmsFormField:""}],allActions:j,actions:{}}),I=()=>{setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),t.mainAction!==""&&p(3)};function L(){switch(t.mainAction){case"1":return t.courseId===void 0;case"4":return t.courseId===void 0;case"2":return t.lessonId===void 0;case"5":return t.lessonId===void 0;case"3":return t.quizId===void 0;default:return!1}}return n.jsxs("div",{children:[n.jsx(_,{snack:S,setSnackbar:c}),n.jsx("div",{className:"txt-center mt-2",children:n.jsx(E,{step:3,active:r})}),n.jsx(P,{formID:y,msLmsConf:t,setMsLmsConf:l,step:r,setStep:p,isLoading:i,setIsLoading:d,setSnackbar:c}),n.jsxs("div",{className:"btcd-stp-page",style:g({},r===2&&{width:900,height:"auto",overflow:"visible"}),children:[n.jsx(T,{formFields:a,handleInput:k=>F(k,t,l),msLmsConf:t,setMsLmsConf:l,isLoading:i,setIsLoading:d,setSnackbar:c,allIntegURL:m,isInfo:h,edit:x}),n.jsxs("button",{onClick:()=>I(),disabled:!t.mainAction||i||L(),className:"btn f-right btcd-btn-lg purple sh-sm flx",type:"button",children:[o("Next","bit-integrations"),"Â ",n.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),n.jsx(z,{step:r,saveConfig:()=>D({flow:s,setFlow:e,allIntegURL:m,navigate:v,conf:t,setIsLoading:d,setSnackbar:c}),isLoading:i,dataConf:t,setDataConf:l,formFields:a})]})}export{O as default};
