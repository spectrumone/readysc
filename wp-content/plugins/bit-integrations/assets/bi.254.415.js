var C=Object.defineProperty;var u=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var p=(s,e,t)=>e in s?C(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,f=(s,e)=>{for(var t in e||(e={}))I.call(e,t)&&p(s,t,e[t]);if(u)for(var t of u(e))N.call(e,t)&&p(s,t,e[t]);return s};import{u as L,l as q,r as c,j as i}from"./main-165.js";import{_ as a,d as w,I as E,s as A}from"./bi.312.95.js";import{S as D}from"./bi.354.971.js";import T from"./bi.825.282.js";import{h as P,i as U}from"./bi.331.819.js";import{S as z}from"./bi.209.820.js";import"./bi.430.769.js";import"./bi.40.785.js";import"./bi.953.732.js";import"./bi.422.733.js";function X({formFields:s,setFlow:e,flow:t,allIntegURL:x}){const g=L(),{formID:F}=q(),[m,o]=c.useState(!1),[r,b]=c.useState(1),[S,l]=c.useState({show:!1}),h=[{key:"1",label:a("Create List","bit-integrations")},{key:"2",label:a("Create Contact","bit-integrations")},{key:"3",label:a("Unsubscribe Contact","bit-integrations")}],k=[{key:"email",label:a("Email","bit-integrations"),required:!0},{key:"first_name",label:a("First Name","bit-integrations"),required:!1},{key:"last_name",label:a("Last Name","bit-integrations"),required:!1}],y=[{key:"name",label:a("Name","bit-integrations"),required:!0}],j=[{key:"email",label:a("Email","bit-integrations"),required:!0}],[n,d]=c.useState({name:"SendFox",type:"SendFox",listId:"",access_token:"",field_map:[{formField:"",sendFoxFormField:""}],field_map_list:[{formField:"",sendFoxListFormField:""}],field_map_unsubscribe:[{formField:"",sendFoxUnsubscribeFormField:""}],allActions:h,contactFields:k,unsubscribeFields:j,listFields:y,actions:{}}),v=()=>{setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),b(3)};return i.jsxs("div",{children:[i.jsx(w,{snack:S,setSnackbar:l}),i.jsx("div",{className:"txt-center mt-2",children:i.jsx(D,{step:3,active:r})}),i.jsx(T,{formID:F,sendFoxConf:n,setSendFoxConf:d,step:r,setstep:b,isLoading:m,setIsLoading:o,setSnackbar:l}),i.jsxs("div",{className:"btcd-stp-page",style:f({},r===2&&{width:900,height:"auto",overflow:"visible"}),children:[i.jsx(z,{formFields:s,handleInput:_=>P(_,n,d,o),sendFoxConf:n,setSendFoxConf:d,isLoading:m,setIsLoading:o,setSnackbar:l}),i.jsxs("button",{onClick:()=>v(),className:"btn f-right btcd-btn-lg purple sh-sm flx",type:"button",disabled:U(n),children:[a("Next","bit-integrations")," Â ",i.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),i.jsx(E,{step:r,saveConfig:()=>A({flow:t,setFlow:e,allIntegURL:x,navigate:g,conf:n,setIsLoading:o,setSnackbar:l}),isLoading:m,dataConf:n,setDataConf:d,formFields:s})]})}export{X as default};
