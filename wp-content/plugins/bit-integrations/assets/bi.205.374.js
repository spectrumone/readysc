import{u as v,l as y,i as C,r as l,j as t}from"./main-165.js";import{j as W,d as k,_ as d,I as N,F as L}from"./bi.312.95.js";import{B as P}from"./bi.430.769.js";import{S as B}from"./bi.354.971.js";import E from"./bi.433.259.js";import{W as T,h as D,c as i}from"./bi.479.765.js";import"./bi.40.785.js";import"./bi.953.732.js";import"./bi.422.733.js";function J({formFields:c,setFlow:h,flow:b,allIntegURL:x}){const M=v(),{formID:_}=y(),j=C(W),{isPro:I}=j,[p,r]=l.useState(!1),[o,u]=l.useState(1),[F,s]=l.useState({show:!1}),[e,m]=l.useState({name:"WooCommerce Integration",type:"WooCommerce",field_map:[],upload_field_map:[],line_field_map:[{formField:"",wcField:""}],actions:{}}),S=()=>{let a="";if((e==null?void 0:e.module)==="order"){const n=i(e.order.field_map),f=i(e.line_item.field_map),g=i(e.customer.field_map);a=n?f?g?"":"Customer Field Map":"Line Item Field Map":"Order Field Map",n&&f&&g||s({show:!0,msg:`${a} can'	 be empty`})}else(e==null?void 0:e.module)==="customer"?i(e.customer.field_map)||(a="Customer Field Map",s({show:!0,msg:d("Customer Field Map can't be empty","bit-integrations")})):(e==null?void 0:e.module)==="product"?i(e.product.field_map)||(a="Product Field Map",s({show:!0,msg:d("Product Field Map can't be empty","bit-integrations")})):(e==null?void 0:e.module)==="changestatus"&&(i(e.changestatus.field_map)||s({show:!0,msg:d("Change Status Field Map can't be empty","bit-integrations")}));setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),a===""&&u(3)};return t.jsxs("div",{children:[t.jsx(k,{snack:F,setSnackbar:s}),t.jsx("div",{className:"txt-center mt-2",children:t.jsx(B,{step:3,active:o})}),t.jsx(E,{formID:_,wcConf:e,setWcConf:m,step:o,setStep:u,isLoading:p,setIsLoading:r,setSnackbar:s}),t.jsxs("div",{className:"btcd-stp-page",style:{width:o===2&&1e3,height:o===2&&"auto"},children:[t.jsx(T,{wcConf:e,setWcConf:m,formFields:c,handleInput:a=>D(a,e,m,r,s,I),isLoading:p,setIsLoading:r}),t.jsxs("button",{onClick:S,className:"btn f-right btcd-btn-lg purple sh-sm flx",type:"button",children:[d("Next","bit-integrations"),t.jsx(P,{className:"ml-1 rev-icn"})]})]}),t.jsx(N,{step:o,saveConfig:()=>L(b,h,x,e,M,"","",r),isLoading:p,dataConf:e,setDataConf:m,formFields:c})]})}export{J as default};
