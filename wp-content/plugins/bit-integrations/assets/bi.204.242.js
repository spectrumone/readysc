import{u as O,e as E,r as d,i as A,j as a}from"./main-165.js";import{$ as k,g as C,h as L,d as b,_ as r,i as y,I as N,c as t,s as j}from"./bi.312.95.js";import{h as p,J as h,D as I,c as i,T as s}from"./bi.834.969.js";import"./bi.953.732.js";import"./bi.422.733.js";function v({allIntegURL:m}){const u=O(),[l,D]=E(k),[e,n]=E(C),[g,R]=d.useState(!1),[_,T]=d.useState({auth:!1,menuPosition:!1,relationTypes:!1,cptList:!1,cctList:!1,relationList:!1}),[P,o]=d.useState({show:!1}),f=A(L),x=()=>{if(!e.selectedTask){t.error(r("Please select a task!","bit-integrations"));return}if(!I.includes(e.selectedTask)&&!i(e)){t.error(r("Please map mandatory fields!","bit-integrations"));return}if((e.selectedTask===s.CREATE_TAXONOMY||e.selectedTask===s.UPDATE_TAXONOMY)&&!e.selectedTaxPostTypes){t.error(r("Please select post type(s)!","bit-integrations"));return}if(e.selectedTask===s.CREATE_RELATION||e.selectedTask===s.UPDATE_RELATION){if(!e.relOptions.parentObject){t.error(r("Please select a parent object!","bit-integrations"));return}if(!e.relOptions.childObject){t.error(r("Please select a child object!","bit-integrations"));return}if(!e.relOptions.selectedRelationType){t.error(r("Please select a relation type!","bit-integrations"));return}}if(e.selectedTask===s.UPDATE_POST_TYPE&&!e.selectedCPT){t.error("Please select a custom post type!");return}if(e.selectedTask===s.UPDATE_CONTENT_TYPE&&!e.selectedCCT){t.error("Please select a custom content type!");return}if(e.selectedTask===s.UPDATE_TAXONOMY&&!e.selectedTaxForEdit){t.error("Please select a taxonomy!");return}if(e.selectedTask===s.UPDATE_RELATION&&!e.relOptions.selectedRelationForEdit){t.error("Please select a relation!");return}if(e.selectedTask===s.DELETE_POST_TYPE&&!e.selectedCPT&&!i(e)){t.error("Please select a custom post type or map fields!");return}if(e.selectedTask===s.DELETE_CONTENT_TYPE&&!e.selectedCCT&&!i(e)){t.error("Please select a custom content type or map fields!");return}if(e.selectedTask===s.DELETE_TAXONOMY&&!e.selectedTaxForEdit&&!i(e)){t.error("Please select a taxonomy or map fields!");return}if(e.selectedTask===s.DELETE_RELATION&&!e.relOptions.selectedRelationForEdit&&!i(e)){t.error("Please select a relation or map fields!");return}j({flow:l,allIntegURL:m,conf:e,navigate:u,edit:1,setLoading:T,setSnackbar:o})};return a.jsxs("div",{style:{width:900},children:[a.jsx(b,{snack:P,setSnackbar:o}),a.jsxs("div",{className:"flx mt-3",children:[a.jsx("b",{className:"wdt-200 d-in-b",children:r("Integration Name:","bit-integrations")}),a.jsx("input",{className:"btcd-paper-inp w-5",onChange:c=>p(c,e,n),name:"name",defaultValue:e.name||"",type:"text",placeholder:r("Integration Name...","bit-integrations")})]}),a.jsx("br",{}),a.jsx(y,{entity:l.triggered_entity,setSnackbar:o}),a.jsx(h,{formID:l.triggered_entity_id,formFields:f,handleInput:c=>p(c,e,n),jetEngineConf:e,setJetEngineConf:n,loading:_,setLoading:T,setSnackbar:o}),a.jsx(N,{edit:!0,saveConfig:x,isLoading:g,dataConf:e,setDataConf:n,formFields:f}),a.jsx("br",{})]})}export{v as default};
