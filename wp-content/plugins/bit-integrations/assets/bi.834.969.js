var oe=Object.defineProperty,de=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var me=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable;var ee=(s,a,i)=>a in s?oe(s,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[a]=i,d=(s,a)=>{for(var i in a||(a={}))me.call(a,i)&&ee(s,i,a[i]);if(C)for(var i of C(a))be.call(a,i)&&ee(s,i,a[i]);return s},x=(s,a)=>de(s,ne(a));import{r as te,i as he,j as t,L as I}from"./main-165.js";import{_ as e,A as ue,b as f,c as N,j as Te,m as u,e as S,n as k,k as pe,l as _e}from"./bi.312.95.js";import{T as xe}from"./bi.953.732.js";const l={CREATE_POST_TYPE:"createPostType",CREATE_CONTENT_TYPE:"createContentType",CREATE_TAXONOMY:"createTaxonomy",CREATE_RELATION:"createRelation",UPDATE_POST_TYPE:"updatePostType",UPDATE_CONTENT_TYPE:"updateContentType",UPDATE_TAXONOMY:"updateTaxonomy",UPDATE_RELATION:"updateRelation",DELETE_POST_TYPE:"deletePostType",DELETE_CONTENT_TYPE:"deleteContentType",DELETE_TAXONOMY:"deleteTaxonomy",DELETE_RELATION:"deleteRelation"},ye=[{label:e("Add New Post Type","bit-integrations"),value:l.CREATE_POST_TYPE},{label:e("Add New Custom Content Type","bit-integrations"),value:l.CREATE_CONTENT_TYPE},{label:e("Add New Taxonomy","bit-integrations"),value:l.CREATE_TAXONOMY},{label:e("Add New Relation","bit-integrations"),value:l.CREATE_RELATION},{label:e("Update Post Type","bit-integrations"),value:l.UPDATE_POST_TYPE},{label:e("Update Custom Content Type","bit-integrations"),value:l.UPDATE_CONTENT_TYPE},{label:e("Update Taxonomy","bit-integrations"),value:l.UPDATE_TAXONOMY},{label:e("Update Relation","bit-integrations"),value:l.UPDATE_RELATION},{label:e("Delete Post Type","bit-integrations"),value:l.DELETE_POST_TYPE},{label:e("Delete Custom Content Type","bit-integrations"),value:l.DELETE_CONTENT_TYPE},{label:e("Delete Taxonomy","bit-integrations"),value:l.DELETE_TAXONOMY},{label:e("Delete Relation","bit-integrations"),value:l.DELETE_RELATION}],E=[l.DELETE_POST_TYPE,l.DELETE_CONTENT_TYPE,l.DELETE_TAXONOMY,l.DELETE_RELATION],Ie=(s,a,i)=>{const c=ue(a,r=>{const{name:n}=s.target;s.target.value!==""?r[n]=s.target.value:delete r[n]});i(c)},Re=s=>!((s!=null&&s.field_map?s.field_map.filter(i=>!i.formField||!i.jetEngineField||!i.formField==="custom"&&!i.customValue):[]).length>0),Se=(s,a,i,c,r)=>{if(!s.name){a({name:s.name?"":e("Name can't be empty","bit-integrations")});return}r(x(d({},c),{auth:!0})),f({},"jetEngine_authentication").then(n=>{if(n.success){i(!0),N.success(e("Connected Successfully","bit-integrations")),r(x(d({},c),{auth:!1}));return}r(x(d({},c),{auth:!1})),N.error(e("Connection failed: install and active JetEngine plugin first!","bit-integrations"))})},g=(s,a,i,c,r,n)=>{s&&(n(x(d({},r),{cptOptions:!0})),f({},s).then(w=>{if(w.success&&w.data){const b=d({},a);b[c]=w.data,i(b),n(x(d({},r),{cptOptions:!1})),N.success(e("Menu Positions fetched successfully","bit-integrations"));return}n(x(d({},r),{cptOptions:!1})),N.error(e(w!=null&&w.data?w.data:"Something went wrong!","bit-integrations"))}))},F=(s,a,i,c)=>{c(x(d({},i),{relation_types:!0})),f({},"jetEngine_relation_types").then(r=>{if(r.success&&r.data){const n=d({},s);n.allRelationTypes=r.data,a(n),c(x(d({},i),{relation_types:!1})),N.success(e("Realtion object fetched successfully","bit-integrations"));return}c(x(d({},i),{relation_types:!1})),N.error(e(r!=null&&r.data?r.data:"Something went wrong!","bit-integrations"))})},se=(s,a,i,c)=>{c(x(d({},i),{cptList:!0})),f({},"jetEngine_cpt_list").then(r=>{if(r.success&&r.data){const n=d({},s);n.cptList=r.data,a(n),c(x(d({},i),{cptList:!1})),N.success(e("CPT list fetched successfully","bit-integrations"));return}c(x(d({},i),{cptList:!1})),N.error(e(r!=null&&r.data?r.data:"Something went wrong!","bit-integrations"))})},ae=(s,a,i,c)=>{c(x(d({},i),{cctList:!0})),f({},"jetEngine_cct_list").then(r=>{if(r.success&&r.data){const n=d({},s);n.cctList=r.data,a(n),c(x(d({},i),{cctList:!1})),N.success(e("CCT list fetched successfully","bit-integrations"));return}c(x(d({},i),{cctList:!1})),N.error(e(r!=null&&r.data?r.data:"Something went wrong!","bit-integrations"))})},ie=(s,a,i,c)=>{c(x(d({},i),{taxList:!0})),f({},"jetEngine_tax_list").then(r=>{if(r.success&&r.data){const n=d({},s);n.taxList=r.data,a(n),c(x(d({},i),{taxList:!1})),N.success(e("Taxonomy list fetched successfully","bit-integrations"));return}c(x(d({},i),{taxList:!1})),N.error(e(r!=null&&r.data?r.data:"Something went wrong!","bit-integrations"))})},le=(s,a,i,c)=>{c(x(d({},i),{relationList:!0})),f({},"jetEngine_relation_list").then(r=>{if(r.success&&r.data){const n=d({},s);n.relationList=r.data,a(n),c(x(d({},i),{relationList:!1})),N.success(e("Taxonomy list fetched successfully","bit-integrations")),n.selectedTask!==l.DELETE_RELATION&&F(n,a,i,c);return}c(x(d({},i),{relationList:!1})),N.error(e(r!=null&&r.data?r.data:"Something went wrong!","bit-integrations"))})},Ne=s=>s===l.CREATE_POST_TYPE||s===l.UPDATE_POST_TYPE?{staticFields:[{key:"name",label:e("Post Type Name","bit-integrations"),required:s===l.CREATE_POST_TYPE},{key:"singular_name",label:e("Singular Name","bit-integrations"),required:!1},{key:"add_new",label:e("Add New","bit-integrations"),required:!1},{key:"add_new_item",label:e("Add New Item","bit-integrations"),required:!1},{key:"new_item",label:e("New Item","bit-integrations"),required:!1},{key:"edit_item",label:e("Edit Item","bit-integrations"),required:!1},{key:"view_item",label:e("View Item","bit-integrations"),required:!1},{key:"all_items",label:e("All Items","bit-integrations"),required:!1},{key:"search_items",label:e("Search for items","bit-integrations"),required:!1},{key:"parent_item_colon",label:e("Parent Item","bit-integrations"),required:!1},{key:"not_found",label:e("Not Found","bit-integrations"),required:!1},{key:"not_found_in_trash",label:e("Not Found In trash","bit-integrations"),required:!1},{key:"menu_name",label:e("Admin Menu","bit-integrations"),required:!1},{key:"name_admin_bar",label:e("Add New on Toolbar","bit-integrations"),required:!1},{key:"featured_image",label:e("Featured Image","bit-integrations"),required:!1},{key:"set_featured_image",label:e("Set Featured Image","bit-integrations"),required:!1},{key:"remove_featured_image",label:e("Remove Featured Image","bit-integrations"),required:!1},{key:"use_featured_image",label:e("Use Featured Image","bit-integrations"),required:!1},{key:"archives",label:e("The post type archive label used in nav menus","bit-integrations"),required:!1},{key:"insert_into_item",label:e("Insert into post","bit-integrations"),required:!1},{key:"uploaded_to_this_item",label:e("Uploaded to this post","bit-integrations"),required:!1}],fieldMap:s===l.CREATE_POST_TYPE?[{formField:"",jetEngineField:"name"}]:[{formField:"",jetEngineField:""}]}:s===l.CREATE_CONTENT_TYPE||s===l.UPDATE_CONTENT_TYPE?{staticFields:[{key:"name",label:e("Content Type Name","bit-integrations"),required:s===l.CREATE_CONTENT_TYPE},{key:"capability",label:e("Content Type UI Access Capability","bit-integrations"),required:!1}],fieldMap:s===l.CREATE_CONTENT_TYPE?[{formField:"",jetEngineField:"name"}]:[{formField:"",jetEngineField:""}]}:s===l.CREATE_TAXONOMY||s===l.UPDATE_TAXONOMY?{staticFields:[{key:"name",label:e("Taxonomy Name","bit-integrations"),required:s===l.CREATE_TAXONOMY},{key:"singular_name",label:e("Singular name","bit-integrations"),required:!1},{key:"menu_name",label:e("Menu name text","bit-integrations"),required:!1},{key:"all_items",label:e("All items text","bit-integrations"),required:!1},{key:"edit_item",label:e("Edit item text","bit-integrations"),required:!1},{key:"view_item",label:e("View Item","bit-integrations"),required:!1},{key:"update_item",label:e("Update item text","bit-integrations"),required:!1},{key:"add_new_item",label:e("Add new item text","bit-integrations"),required:!1},{key:"new_item_name",label:e("New item name text","bit-integrations"),required:!1},{key:"parent_item",label:e("Parent item text","bit-integrations"),required:!1},{key:"parent_item_colon",label:e("Parent item with colon","bit-integrations"),required:!1},{key:"search_items",label:e("Search items text","bit-integrations"),required:!1},{key:"popular_items",label:e("Popular items text","bit-integrations"),required:!1},{key:"separate_items_with_commas",label:e("Separate item with commas text","bit-integrations"),required:!1},{key:"add_or_remove_items",label:e("Add or remove items text","bit-integrations"),required:!1},{key:"choose_from_most_used",label:e("Choose from most used text","bit-integrations"),required:!1},{key:"not_found",label:e("Items not found text","bit-integrations"),required:!1},{key:"back_to_items",label:e("Back to items text","bit-integrations"),required:!1},{key:"query_var",label:e("Register Query Var","bit-integrations"),required:!1},{key:"capability_type",label:e("Capability Type","bit-integrations"),required:!1},{key:"description",label:e("Taxonomy Description","bit-integrations"),required:!1}],fieldMap:s===l.CREATE_TAXONOMY?[{formField:"",jetEngineField:"name"}]:[{formField:"",jetEngineField:""}]}:s===l.CREATE_RELATION||s===l.UPDATE_RELATION?{staticFields:[{key:"name",label:e("Relation Name","bit-integrations"),required:s===l.CREATE_RELATION},{key:"parent_page_control_title",label:e("Parent Object: label of relation box","bit-integrations"),required:!1},{key:"parent_page_control_connect",label:e("Parent Object: label of connect button","bit-integrations"),required:!1},{key:"parent_page_control_select",label:e("Parent Object: label of select item control","bit-integrations"),required:!1},{key:"child_page_control_title",label:e("Child Object: label of relation box","bit-integrations"),required:!1},{key:"child_page_control_connect",label:e("Child Object: label of connect button","bit-integrations"),required:!1},{key:"child_page_control_select",label:e("Child Object: label of select item control","bit-integrations"),required:!1}],fieldMap:s===l.CREATE_RELATION?[{formField:"",jetEngineField:"name"}]:[{formField:"",jetEngineField:""}]}:s===l.DELETE_POST_TYPE?{staticFields:[{key:"post_type_id",label:"Post Type ID",required:!0}],fieldMap:[{formField:"",jetEngineField:"post_type_id"}]}:s===l.DELETE_CONTENT_TYPE?{staticFields:[{key:"content_type_id",label:"Content Type ID",required:!0}],fieldMap:[{formField:"",jetEngineField:"content_type_id"}]}:s===l.DELETE_TAXONOMY?{staticFields:[{key:"tax_id",label:"Taxonomy ID",required:!0}],fieldMap:[{formField:"",jetEngineField:"tax_id"}]}:s===l.DELETE_RELATION?{staticFields:[{key:"relation_id",label:"Relation ID",required:!0}],fieldMap:[{formField:"",jetEngineField:"relation_id"}]}:{staticFields:[],fieldMap:[]};function we({jetEngineConf:s,setJetEngineConf:a,loading:i,setLoading:c}){var R,m,_,y,D,M,Y,q,L,U,V,X,$,W,B,H,Q,z,G,K,Z,j,J;const[r,n]=te.useState({show:!1}),w=he(Te),{isPro:b}=w,[p,T]=te.useState({}),h=(o,A)=>{const v=d({},s);A==="checkbox"?o.target.checked?v.actions[o.target.value]=!0:delete v.actions[o.target.value]:A==="menuPosition"?(g("jetEngine_menu_positions",p,T,A,i,c),n({show:"menuPosition"})):A==="menuIcon"?(g("jetEngine_menu_icons",p,T,A,i,c),n({show:"menuIcon"})):A==="supports"?(g("jetEngine_supports",p,T,A,i,c),n({show:"supports"})):A==="taxPostTypes"&&(g("jetEngine_tax_post_types",p,T,A,i,c),n({show:"taxPostTypes"})),a(d({},v))},P=()=>{n({show:!1})},O=(o,A)=>{const v=d({},s);v[A]=o,a(d({},v))};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"pos-rel d-flx flx-wrp",children:[!b&&(s.selectedTask===l.CREATE_TAXONOMY||s.selectedTask===l.UPDATE_TAXONOMY)&&t.jsxs(t.Fragment,{children:[t.jsx(u,{checked:s.selectedTaxPostTypes||!1,onChange:o=>h(o,"taxPostTypes"),className:"wdt-200 mt-4 mr-2",value:"select_menu_post_type",title:e("Select Post Type","bit-integrations"),subTitle:e("Select post types to add this taxonomy for.","bit-integrations")}),t.jsxs(S,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:e("Ok","bit-integrations"),show:r.show==="taxPostTypes",close:P,action:P,title:e("Post Types","bit-integrations"),children:[t.jsx("div",{className:"btcd-hr mt-2 mb-2"}),t.jsx("div",{className:"mt-2 flx",children:e("Select Menu Position","bit-integrations")}),i.cptOptions?t.jsx(I,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):t.jsx("div",{className:"mt-2",children:t.jsx(k,{options:p==null?void 0:p.taxPostTypes,className:"msl-wrp-options",defaultValue:s==null?void 0:s.selectedTaxPostTypes,onChange:o=>O(o,"selectedTaxPostTypes"),style:{width:"100%"}})})]})]}),s.selectedTask===l.DELETE_POST_TYPE&&t.jsx(t.Fragment,{children:t.jsx(u,{checked:((R=s.actions)==null?void 0:R.delete_all_posts)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"delete_all_posts",title:e("Delete All Posts","bit-integrations"),subTitle:e("Delete all posts related to the post type.","bit-integrations")})}),s.selectedTask===l.DELETE_TAXONOMY&&t.jsx(t.Fragment,{children:t.jsx(u,{checked:((m=s.actions)==null?void 0:m.delete_all_tax_terms)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"delete_all_tax_terms",title:e("Delete All Terms","bit-integrations"),subTitle:e("Delete all terms related to the taxonomy.","bit-integrations")})})]}),!b&&!E.includes(s.selectedTask)&&t.jsx("div",{className:"pt-2",children:t.jsx("span",{className:"actions-note",children:e("The Bit Integrations Pro plugin needs to be installed and activated to utilize these features","bit-integrations")})}),t.jsxs("div",{className:"pos-rel d-flx flx-wrp",children:[(s.selectedTask===l.CREATE_TAXONOMY||s.selectedTask===l.UPDATE_TAXONOMY)&&b&&t.jsxs(t.Fragment,{children:[t.jsx(u,{checked:s.selectedTaxPostTypes||!1,onChange:o=>h(o,"taxPostTypes"),className:"wdt-200 mt-4 mr-2",value:"select_menu_post_type",title:e("Select Post Type","bit-integrations"),subTitle:e("Select post types to add this taxonomy for.","bit-integrations")}),t.jsxs(S,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:e("Ok","bit-integrations"),show:r.show==="taxPostTypes",close:P,action:P,title:e("Post Types","bit-integrations"),children:[t.jsx("div",{className:"btcd-hr mt-2 mb-2"}),t.jsx("div",{className:"mt-2 flx",children:e("Select Menu Position","bit-integrations")}),i.cptOptions?t.jsx(I,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):t.jsx("div",{className:"mt-2",children:t.jsx(k,{options:p==null?void 0:p.taxPostTypes,className:"msl-wrp-options",defaultValue:s==null?void 0:s.selectedTaxPostTypes,onChange:o=>O(o,"selectedTaxPostTypes"),style:{width:"100%"}})})]})]}),(s.selectedTask===l.CREATE_POST_TYPE||s.selectedTask===l.CREATE_CONTENT_TYPE||s.selectedTask===l.UPDATE_POST_TYPE||s.selectedTask===l.UPDATE_CONTENT_TYPE)&&t.jsxs(t.Fragment,{children:[t.jsx(u,{checked:s.selectedMenuPosition||!1,onChange:o=>h(o,"menuPosition"),className:"wdt-200 mt-4 mr-2",value:"select_menu_position",title:e("Select Menu Position","bit-integrations"),subTitle:e("Select existing menu item to add page after.","bit-integrations"),isInfo:!b}),t.jsxs(S,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:e("Ok","bit-integrations"),show:r.show==="menuPosition",close:P,action:P,title:e("Menu Position","bit-integrations"),children:[t.jsx("div",{className:"btcd-hr mt-2 mb-2"}),t.jsx("div",{className:"mt-2 flx",children:e("Select Menu Position","bit-integrations")}),i.cptOptions?t.jsx(I,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):t.jsx("div",{className:"mt-2",children:t.jsx(k,{options:p==null?void 0:p.menuPosition,className:"msl-wrp-options",defaultValue:s==null?void 0:s.selectedMenuPosition,onChange:o=>O(o,"selectedMenuPosition"),style:{width:"100%"},singleSelect:!0})})]}),t.jsx(u,{checked:s.selectedMenuIcon||!1,onChange:o=>h(o,"menuIcon"),className:"wdt-200 mt-4 mr-2",value:"select_menu_icon",title:e("Select Menu Icon","bit-integrations"),subTitle:e("Icon will be visible in admin menu.","bit-integrations"),isInfo:!b}),t.jsxs(S,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:e("Ok","bit-integrations"),show:r.show==="menuIcon",close:P,action:P,title:e("Menu Position","bit-integrations"),children:[t.jsx("div",{className:"btcd-hr mt-2 mb-2"}),t.jsx("div",{className:"mt-2 flx",children:e("Select Menu Icon","bit-integrations")}),i.cptOptions?t.jsx(I,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):t.jsx("div",{className:"mt-2",children:t.jsx(k,{options:p==null?void 0:p.menuIcon,className:"msl-wrp-options",defaultValue:s==null?void 0:s.selectedMenuIcon,onChange:o=>O(o,"selectedMenuIcon"),style:{width:"100%"},singleSelect:!0})})]})]}),(s.selectedTask===l.CREATE_POST_TYPE||s.selectedTask===l.UPDATE_POST_TYPE)&&t.jsxs(t.Fragment,{children:[t.jsx(u,{checked:s.selectedSupports||!1,onChange:o=>h(o,"supports"),className:"wdt-200 mt-4 mr-2",value:"select_support",title:e("Select Supports","bit-integrations"),subTitle:e("Registers support of certain feature(s) for a current post type.","bit-integrations"),isInfo:!b}),t.jsxs(S,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:e("Ok","bit-integrations"),show:r.show==="supports",close:P,action:P,title:e("Menu Position","bit-integrations"),children:[t.jsx("div",{className:"btcd-hr mt-2 mb-2"}),t.jsx("div",{className:"mt-2 flx",children:e("Select Supports","bit-integrations")}),i.cptOptions?t.jsx(I,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):t.jsx("div",{className:"mt-2",children:t.jsx(k,{options:p==null?void 0:p.supports,className:"msl-wrp-options",defaultValue:s==null?void 0:s.selectedSupports,onChange:o=>O(o,"selectedSupports"),style:{width:"100%"}})})]}),t.jsx(u,{checked:((_=s.actions)==null?void 0:_.custom_storage)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"custom_storage",title:e("Custom Meta Storage","bit-integrations"),subTitle:e("Store meta fields added below in the custom DB table instead of default `postmeta` table.","bit-integrations"),isInfo:!b})]}),(s.selectedTask===l.CREATE_POST_TYPE||s.selectedTask===l.CREATE_TAXONOMY||s.selectedTask===l.UPDATE_POST_TYPE||s.selectedTask===l.UPDATE_TAXONOMY)&&t.jsxs(t.Fragment,{children:[t.jsx(u,{checked:((y=s.actions)==null?void 0:y.delete_metadata)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"delete_metadata",title:e("Delete metadata","bit-integrations"),subTitle:e("Check this option to delete metadata from the database for the deleted meta fields.","bit-integrations"),isInfo:!b}),t.jsx(u,{checked:((D=s.actions)==null?void 0:D.show_edit_link)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"show_edit_link",title:e("`Edit post type/meta box` link","bit-integrations"),subTitle:e("Add `Edit post type/meta box` link to post edit page.","bit-integrations"),isInfo:!b}),t.jsx(u,{checked:((M=s.actions)==null?void 0:M.hide_field_names)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"hide_field_names",title:e("Hide meta field names","bit-integrations"),subTitle:e("Hide meta field names on post edit page.","bit-integrations"),isInfo:!b}),t.jsx(u,{checked:((Y=s.actions)==null?void 0:Y.public)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"public",title:e("Is Public","bit-integrations"),subTitle:e("Controls how the type is visible to authors and readers.","bit-integrations"),isInfo:!b}),(s.selectedTask===l.CREATE_POST_TYPE||s.selectedTask===l.UPDATE_POST_TYPE)&&t.jsx(u,{checked:((q=s.actions)==null?void 0:q.exclude_from_search)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"exclude_from_search",title:e("Exclude From Search","bit-integrations"),subTitle:e("Whether to exclude posts with this post type from front end search results.","bit-integrations"),isInfo:!b}),t.jsx(u,{checked:((L=s.actions)==null?void 0:L.publicly_queryable)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"publicly_queryable",title:e("Publicly Queryable","bit-integrations"),subTitle:e("Whether queries can be performed on the front end as part of parse_request().","bit-integrations"),isInfo:!b}),t.jsx(u,{checked:((U=s.actions)==null?void 0:U.show_ui)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"show_ui",title:e("Show Admin UI","bit-integrations"),subTitle:e("Whether to generate a default UI for managing this post type in the admin.","bit-integrations"),isInfo:!b}),t.jsx(u,{checked:((V=s.actions)==null?void 0:V.show_in_menu)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"show_in_menu",title:e("Show in Admin Menu","bit-integrations"),subTitle:e("Where to show the post type in the admin menu. show_ui must be true.","bit-integrations"),isInfo:!b}),t.jsx(u,{checked:((X=s.actions)==null?void 0:X.show_in_nav_menus)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"show_in_nav_menus",title:e("Show in Nav Menu","bit-integrations"),subTitle:e("Whether post_type is available for selection in navigation menus.","bit-integrations"),isInfo:!b}),t.jsx(u,{checked:(($=s.actions)==null?void 0:$.show_in_rest)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"show_in_rest",title:e("Show in Rest API","bit-integrations"),subTitle:e("Whether to expose this post type in the REST API. Also enable/disable Gutenberg editor for current post type.","bit-integrations"),isInfo:!b}),(s.selectedTask===l.CREATE_POST_TYPE||s.selectedTask===l.UPDATE_POST_TYPE)&&t.jsxs(t.Fragment,{children:[t.jsx(u,{checked:((W=s.actions)==null?void 0:W.query_var)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"query_var",title:e("Register Query Var","bit-integrations"),subTitle:e("Sets the query_var key for this post type.","bit-integrations"),isInfo:!b}),t.jsx(u,{checked:((B=s.actions)==null?void 0:B.has_archive)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"has_archive",title:e("Map Meta Cap","bit-integrations"),subTitle:e("Whether to use the internal default meta capability handling.","bit-integrations"),isInfo:!b})]}),t.jsx(u,{checked:((H=s.actions)==null?void 0:H.hierarchical)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"hierarchical",title:s.selectedTask===l.CREATE_POST_TYPE?e("Hierarchical","bit-integrations"):e("Rewrite Hierarchical","bit-integrations"),subTitle:e(`${s.selectedTask===l.CREATE_POST_TYPE?"Whether the post type is hierarchical (e.g. page).":"Either hierarchical rewrite tag or not."}`,"bit-integrations"),isInfo:!b})]}),(s.selectedTask===l.CREATE_RELATION||s.selectedTask===l.UPDATE_RELATION)&&t.jsxs(t.Fragment,{children:[t.jsx(u,{checked:((Q=s.actions)==null?void 0:Q.parent_control)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"parent_control",title:e("Register controls for parent object","bit-integrations"),subTitle:e("Adds controls to manage related children items to the edit page of the parent object.","bit-integrations"),isInfo:!b}),t.jsx(u,{checked:((z=s.actions)==null?void 0:z.parent_manager)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"parent_manager",title:e("Allow to create new children from parent","bit-integrations"),subTitle:e("If enabled, allows to create new children items from the related items control for parent object page.","bit-integrations"),isInfo:!b}),t.jsx(u,{checked:((G=s.actions)==null?void 0:G.parent_allow_delete)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"parent_allow_delete",title:e("Allow to delete children from parent","bit-integrations"),subTitle:e("If enabled, allows to delete children items from the related items control for parent object page.","bit-integrations"),isInfo:!b}),t.jsx(u,{checked:((K=s.actions)==null?void 0:K.child_control)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"child_control",title:e("Register controls for child object","bit-integrations"),subTitle:e("Adds controls to manage related parent items to the edit page of the child object.","bit-integrations"),isInfo:!b}),t.jsx(u,{checked:((Z=s.actions)==null?void 0:Z.child_manager)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"child_manager",title:e("Allow to create new parents from children","bit-integrations"),subTitle:e("If enabled, allows to create new parent items from the related items control for child object page.","bit-integrations"),isInfo:!b}),t.jsx(u,{checked:((j=s.actions)==null?void 0:j.child_allow_delete)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"child_allow_delete",title:e("Allow to delete parents from children","bit-integrations"),subTitle:e("If enabled, allows to delete parent items from the related items control for child object page.","bit-integrations"),isInfo:!b}),t.jsx(u,{checked:((J=s.actions)==null?void 0:J.db_table)||!1,onChange:o=>h(o,"checkbox"),className:"wdt-200 mt-4 mr-2",value:"db_table",title:e("Register separate DB table","bit-integrations"),subTitle:e("Register separate DB tables to store current relation items and meta data. If you plan to create multiple relations with a big amount of items, this option will help optimize performance.","bit-integrations"),isInfo:!b})]})]})]})}const ce=(s,a,i)=>{const c=d({},a);c.field_map.splice(s,0,{}),i(d({},c))},Pe=(s,a,i)=>{const c=d({},a);c.field_map.length>1&&c.field_map.splice(s,1),i(d({},c))},re=(s,a,i,c)=>{const r=d({},i);r.field_map[a][s.target.name]=s.target.value,s.target.value==="custom"&&(r.field_map[a].customValue=""),c(d({},r))};function ke({i:s,formFields:a,field:i,jetEngineConf:c,setJetEngineConf:r}){var b,p;const n=(c==null?void 0:c.staticFields.filter(T=>T.required===!0))||[],w=((b=c==null?void 0:c.staticFields)==null?void 0:b.filter(T=>T.required===!1))||[];return t.jsx("div",{className:"flx mt-2 mb-2 btcbi-field-map",children:t.jsxs("div",{className:"pos-rel flx",children:[t.jsxs("div",{className:"flx integ-fld-wrp",children:[t.jsxs("select",{className:"btcd-paper-inp mr-2",name:"formField",value:i.formField||"",onChange:T=>re(T,s,c,r),children:[t.jsx("option",{value:"",children:e("Select Field","bit-integrations")}),t.jsx("optgroup",{label:e("Form Fields","bit-integrations"),children:a==null?void 0:a.map(T=>t.jsx("option",{value:T.name,children:T.label},`ff-rm-${T.name}`))}),t.jsx("option",{value:"custom",children:e("Custom...","bit-integrations")}),t.jsx("optgroup",{label:"General Smart Codes",children:(p=pe)==null?void 0:p.map(T=>t.jsx("option",{value:T.name,children:T.label},`ff-rm-${T.name}`))})]}),i.formField==="custom"&&t.jsx(xe,{onChange:T=>_e(T,s,c,r),label:e("Custom Value","bit-integrations"),className:"mr-2",type:"text",value:i.customValue,placeholder:e("Custom Value","bit-integrations"),formFields:a}),t.jsxs("select",{className:"btcd-paper-inp",disabled:s<n.length,name:"jetEngineField",value:s<n?n[s].label||"":i.jetEngineField||"",onChange:T=>re(T,s,c,r),children:[t.jsx("option",{value:"",children:e("Select Field","bit-integrations")}),s<n.length?t.jsx("option",{value:n[s].key,children:n[s].label},n[s].key):w.map(({key:T,label:h})=>t.jsx("option",{value:T,children:h},T))]})]}),t.jsx("div",{className:"flx integ-fld-wrp",children:s>=n.length&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>ce(s,c,r),className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),t.jsx("button",{onClick:()=>Pe(s,c,r),className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:t.jsx("span",{className:"btcd-icn icn-trash-2"})})]})})]})})}function ge({formFields:s,jetEngineConf:a,setJetEngineConf:i,loading:c,setLoading:r,setSnackbar:n}){var h,P,O,R;const w=m=>{const _=d({},a);if(_.selectedTask=m,m){const y=Ne(m);_.staticFields=y.staticFields,_.field_map=y.fieldMap,m===l.CREATE_RELATION&&F(_,i,c,r),(m===l.UPDATE_POST_TYPE||m===l.DELETE_POST_TYPE)&&se(_,i,c,r),(m===l.UPDATE_CONTENT_TYPE||m===l.DELETE_CONTENT_TYPE)&&ae(_,i,c,r),(m===l.UPDATE_TAXONOMY||m===l.DELETE_TAXONOMY)&&ie(_,i,c,r),(m===l.UPDATE_RELATION||m===l.DELETE_RELATION)&&le(_,i,c,r)}else _.staticFields=[],_.field_map=[];i(d({},_))},b=(m,_)=>{const y=d({},a);y.relOptions[_]=m,i(d({},y))},p=(m,_)=>{const y=d({},a);y[_]=m,i(d({},y))},T=(m,_)=>{const y=d({},a);m.target.checked?y.deleteFieldMap[_]=!0:y.deleteFieldMap[_]=!1,i(d({},y))};return t.jsx(t.Fragment,{children:t.jsxs("div",{children:[t.jsxs("div",{className:"flx mt-3 mb-4",children:[t.jsx("b",{className:"wdt-200 d-in-b",children:e("Select Task:","bit-integrations")}),t.jsx(k,{style:{width:"450px"},options:ye,className:"msl-wrp-options",defaultValue:a==null?void 0:a.selectedTask,onChange:m=>w(m),singleSelect:!0})]}),(a.selectedTask===l.UPDATE_RELATION||a.selectedTask===l.DELETE_RELATION)&&t.jsxs("div",{className:"flx mt-3 mb-4",children:[t.jsx("b",{className:"wdt-200 d-in-b",children:e("Select Relation:","bit-integrations")}),t.jsx(k,{style:{width:"450px"},options:a==null?void 0:a.relationList,className:"msl-wrp-options",defaultValue:(h=a==null?void 0:a.relOptions)==null?void 0:h.selectedRelationForEdit,onChange:m=>b(m,"selectedRelationForEdit"),singleSelect:!0}),t.jsx("button",{onClick:()=>le(a,i,c,r),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${e("Refresh relation list","bit-integrations")}'`},type:"button",children:"↻"})]}),(a.selectedTask===l.CREATE_RELATION||a.selectedTask===l.UPDATE_RELATION)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flx mt-3 mb-4",children:[t.jsx("b",{className:"wdt-200 d-in-b",children:e("Parent object:","bit-integrations")}),t.jsx(k,{style:{width:"450px"},options:a==null?void 0:a.allRelationTypes,className:"msl-wrp-options",defaultValue:(P=a==null?void 0:a.relOptions)==null?void 0:P.parentObject,onChange:m=>b(m,"parentObject"),singleSelect:!0}),t.jsx("button",{onClick:()=>F(a,i,c,r),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${e("Refresh parent objects","bit-integrations")}'`},type:"button",children:"↻"})]}),t.jsxs("div",{className:"flx mt-3 mb-4",children:[t.jsx("b",{className:"wdt-200 d-in-b",children:e("Child object:","bit-integrations")}),t.jsx(k,{style:{width:"450px"},options:a==null?void 0:a.allRelationTypes,className:"msl-wrp-options",defaultValue:(O=a==null?void 0:a.relOptions)==null?void 0:O.childObject,onChange:m=>b(m,"childObject"),singleSelect:!0}),t.jsx("button",{onClick:()=>F(a,i,c,r),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${e("Refresh child objects","bit-integrations")}'`},type:"button",children:"↻"})]}),t.jsxs("div",{className:"flx mt-3 mb-4",children:[t.jsx("b",{className:"wdt-200 d-in-b",children:e("Relation type:","bit-integrations")}),t.jsx(k,{style:{width:"450px"},options:[{label:e("One to one","bit-integrations"),value:"one_to_one"},{label:e("One to many","bit-integrations"),value:"one_to_many"},{label:e("Many to many","bit-integrations"),value:"many_to_many"}],className:"msl-wrp-options",defaultValue:(R=a==null?void 0:a.relOptions)==null?void 0:R.selectedRelationType,onChange:m=>b(m,"selectedRelationType"),singleSelect:!0})]})]}),(a.selectedTask===l.UPDATE_POST_TYPE||a.selectedTask===l.DELETE_POST_TYPE)&&t.jsxs("div",{className:"flx mt-3 mb-4",children:[t.jsx("b",{className:"wdt-200 d-in-b",children:e("Custom Post Type:","bit-integrations")}),t.jsx(k,{style:{width:"450px"},options:a==null?void 0:a.cptList,className:"msl-wrp-options",defaultValue:a==null?void 0:a.selectedCPT,onChange:m=>p(m,"selectedCPT"),singleSelect:!0}),t.jsx("button",{onClick:()=>se(a,i,c,r),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${e("Refresh CPT List","bit-integrations")}'`},type:"button",children:"↻"})]}),(a.selectedTask===l.UPDATE_CONTENT_TYPE||a.selectedTask===l.DELETE_CONTENT_TYPE)&&t.jsxs("div",{className:"flx mt-3 mb-4",children:[t.jsx("b",{className:"wdt-200 d-in-b",children:e("Custom Content Type:","bit-integrations")}),t.jsx(k,{style:{width:"450px"},options:a==null?void 0:a.cctList,className:"msl-wrp-options",defaultValue:a==null?void 0:a.selectedCCT,onChange:m=>p(m,"selectedCCT"),singleSelect:!0}),t.jsx("button",{onClick:()=>ae(a,i,c,r),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${e("Refresh CCT List","bit-integrations")}'`},type:"button",children:"↻"})]}),(a.selectedTask===l.UPDATE_TAXONOMY||a.selectedTask===l.DELETE_TAXONOMY)&&t.jsxs("div",{className:"flx mt-3 mb-4",children:[t.jsx("b",{className:"wdt-200 d-in-b",children:e("Select Taxonomy:","bit-integrations")}),t.jsx(k,{style:{width:"450px"},options:a==null?void 0:a.taxList,className:"msl-wrp-options",defaultValue:a==null?void 0:a.selectedTaxForEdit,onChange:m=>p(m,"selectedTaxForEdit"),singleSelect:!0}),t.jsx("button",{onClick:()=>ie(a,i,c,r),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${e("Refresh Tax List","bit-integrations")}'`},type:"button",children:"↻"})]}),(c.relation_types||c.cptList||c.cctList||c.taxList||c.relationList)&&t.jsx(I,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}),E.includes(a.selectedTask)&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsxs("div",{className:"flx",children:[t.jsx("span",{className:"action-delete-task-note",children:"To delete, you can select from the list above, or you can map fields."}),t.jsx(u,{checked:a.deleteFieldMap[a.selectedTask],onChange:m=>T(m,a.selectedTask),className:" ml-2",value:"delete_field_map",title:e("Map Fields","bit-integrations")})]})]}),(!E.includes(a.selectedTask)||E.includes(a.selectedTask)&&a.deleteFieldMap[a.selectedTask])&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mt-5",children:t.jsx("b",{className:"wdt-100",children:e("Field Map","bit-integrations")})}),t.jsx("br",{}),t.jsx("div",{className:"btcd-hr mt-1"}),t.jsxs("div",{className:"flx flx-around mt-2 mb-2 btcbi-field-map-label",children:[t.jsx("div",{className:"txt-dp",children:t.jsx("b",{children:e("Form Fields","bit-integrations")})}),t.jsx("div",{className:"txt-dp",children:t.jsx("b",{children:e("JetEngine Fields","bit-integrations")})})]}),(a==null?void 0:a.selectedTask)&&(a==null?void 0:a.field_map.map((m,_)=>t.jsx(ke,{i:_,field:m,jetEngineConf:a,formFields:s,setJetEngineConf:i,setSnackbar:n},`rp-m-${_+9}`))),(a==null?void 0:a.selectedTask)&&t.jsx("div",{className:"txt-center btcbi-field-map-button mt-2",children:t.jsx("button",{onClick:()=>ce(a.field_map.length,a,i),className:"icn-btn sh-sm",type:"button",children:"+"})})]}),a.selectedTask&&a.selectedTask!==l.DELETE_CONTENT_TYPE&&a.selectedTask!==l.DELETE_RELATION&&t.jsxs("div",{children:[t.jsx("br",{}),t.jsx("br",{}),t.jsx("div",{className:"mt-4",children:t.jsx("b",{className:"wdt-100",children:e("Utilities","bit-integrations")})}),t.jsx("div",{className:"btcd-hr mt-1"}),t.jsx(we,{jetEngineConf:a,setJetEngineConf:i,loading:c,setLoading:r})]})]})})}export{E as D,ge as J,l as T,Re as c,Ie as h,Se as j};
