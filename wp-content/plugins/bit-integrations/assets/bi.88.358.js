var T=Object.defineProperty;var g=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var b=(i,s,t)=>s in i?T(i,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[s]=t,c=(i,s)=>{for(var t in s||(s={}))F.call(s,t)&&b(i,t,s[t]);if(g)for(var t of g(s))V.call(s,t)&&b(i,t,s[t]);return i};import{g as E,u as I,r,j as e}from"./main-165.js";import{d as _,_ as u,L as $,F as M}from"./bi.312.95.js";import{S as B}from"./bi.354.971.js";import{c as P,C as z}from"./bi.30.873.js";import D from"./bi.199.307.js";import{T as x,t as H}from"./bi.40.785.js";function K(){const i=["a","b","c","d","e","f","0","1","2","3","4","5","6","7","8","9"];let s=[];for(let t=0;t<36;t++)t===8||t===13||t===18||t===23?s[t]="-":s[t]=i[Math.ceil(Math.random()*i.length-1)];return s.join("")}var R=K,q=E(R);const Y=({formFields:i,setFlow:s,flow:t,allIntegURL:f})=>{const h=I(),[l,v]=r.useState(1),[j,y]=r.useState(!1),[o,N]=r.useState({}),[k,C]=r.useState({show:!1}),L=q(),{customAction:n}=H,[a,m]=r.useState({name:"Custom Action",type:"CustomAction",randomFileName:L,defaultValue:`<?php if (!defined('ABSPATH')) {exit;} 
    
  function yourFunctionName($trigger){
    $trigger['yourKey'];
    //write here your custom function
  }  
  yourFunctionName($trigger);`,value:""});r.useEffect(()=>{const d=c({},a);delete d.isValid,m(c({},d))},[a==null?void 0:a.value]);const S=()=>{setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),v(2)},w=d=>{const p=c({},a);p[d.target.name]=d.target.value,m(p)};return e.jsxs("div",{children:[e.jsx(_,{snack:k,setSnackbar:C}),e.jsx("div",{className:"txt-center mt-2",children:e.jsx(B,{step:2,active:l})}),e.jsxs("div",{className:"btcd-stp-page",style:c({},l===1&&{width:"70%",height:"auto",overflow:"visible"}),children:[(n==null?void 0:n.youTubeLink)&&e.jsx(x,{title:"Custom Action",youTubeLink:n==null?void 0:n.youTubeLink}),(n==null?void 0:n.docLink)&&e.jsx(x,{title:"Custom Action",docLink:n==null?void 0:n.docLink}),e.jsxs("div",{className:"d-flx my-3",children:[e.jsx("div",{className:"wdt-200 d-in-b mt-3",children:e.jsx("b",{children:u("Integration Name:","bit-integrations")})}),e.jsx("input",{className:"btcd-paper-inp mt-1",onChange:w,name:"name",value:a.name,type:"text",placeholder:u("Integration Name...","bit-integrations")})]}),e.jsx(D,{customActionConf:a,setCustomActionConf:m,formFields:i}),e.jsxs("button",{onClick:()=>P(a,m,o,N),disabled:!a.value||(o==null?void 0:o.validate),className:"btn f-left btcd-btn-lg purple sh-sm flx mt-5",type:"button",children:[a!=null&&a.isValid?u("Validated ✔","bit-integrations"):u("Validated","bit-integrations"),(o==null?void 0:o.validate)&&e.jsx($,{size:"20",clr:"#022217",className:"ml-2"})]}),e.jsxs("button",{onClick:()=>S(),disabled:!a.isValid,className:"btn f-right btcd-btn-lg purple sh-sm flx mt-5",type:"button",children:[u("Next","bit-integrations"),"  ",e.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),e.jsx("div",{className:"btcd-stp-page",style:{width:l===2&&"100%",height:l===2&&"auto"},children:e.jsx(z,{step:l,saveConfig:()=>M(t,s,f,a,h,"","",y),isLoading:j})})]})};export{Y as default};
