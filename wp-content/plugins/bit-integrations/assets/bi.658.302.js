var L=Object.defineProperty,N=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var S=(t,e,i)=>e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,x=(t,e)=>{for(var i in e||(e={}))z.call(e,i)&&S(t,i,e[i]);if(j)for(var i of j(e))E.call(e,i)&&S(t,i,e[i]);return t},I=(t,e)=>N(t,R(e));var w=(t,e,i)=>new Promise((h,d)=>{var l=n=>{try{b(i.next(n))}catch(g){d(g)}},u=n=>{try{b(i.throw(n))}catch(g){d(g)}},b=n=>n.done?h(n.value):Promise.resolve(n.value).then(l,u);b((i=i.apply(t,e)).next())});import{i as _,r as k,j as s}from"./main-165.js";import{j as v,_ as a,N as D}from"./bi.312.95.js";import{S as G,I as m,E as $,G as U,A as F}from"./bi.69.970.js";import{h as y,c as O,a as B}from"./bi.556.863.js";import{T as A,t as H}from"./bi.40.785.js";function V({notionConf:t,setNotionConf:e,step:i,setStep:h,isInfo:d,loading:l,setLoading:u}){const b=_(v),[n,g]=k.useState(!1),[o,p]=k.useState({clientId:"",clientSecret:""}),{notion:r}=H,T=()=>w(this,null,function*(){setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),h(2),u(I(x({},l),{page:!0})),(yield B(t,e))&&u(I(x({},l),{page:!1}))}),f=`
  <h4>${a("Step of get Client Id & Client Secret","bit-integrations")}</h4>
  <ul>
    <li>${a("Goto","bit-integrations")}Goto <a href="https://www.notion.so/my-integrations" target='_blank'>My integrations.</a></li>
    <li>${a("Click new integration.","bit-integrations")}</li>
    <li>${a("Name to identify your integration to users.","bit-integrations")}</li>
    <li>${a("<b>User Capabilities</b> always select read user information including email addresses","bit-integrations")}</li>
    <li><b>${a("Submit","bit-integrations")}</b></li>
    <li>${a("Select <b>Integration type</b> Public","bit-integrations")}</li>
    <li>${a("Fill up <b>OAuth Domain & URIs</b> information","bit-integrations")}</li>
    <li>${a("Homepage & Redirect URIs copy from Integration Settings","bit-integrations")}</li>
    <li>${a("Finally, click <b>Authorize</b> button.","bit-integrations")}</li>
</ul>
`;return s.jsxs(G,{step:i,stepNo:1,style:{width:900,height:"auto"},children:[(r==null?void 0:r.youTubeLink)&&s.jsx(A,{title:"Notion",youTubeLink:r==null?void 0:r.youTubeLink}),(r==null?void 0:r.docLink)&&s.jsx(A,{title:"Notion",docLink:r==null?void 0:r.docLink}),s.jsxs("div",{className:"mt-2",children:[s.jsx(m,{label:a("Integration Name","bit-integrations"),name:"name",placeholder:a("Integration Name...","bit-integrations"),value:t.name,onchange:c=>y(c,t,e,o,p)}),s.jsx(m,{label:"Homepage",copytext:window.location.origin,setToast:!0}),s.jsx(m,{label:"Redirect URIs",copytext:`${b.api.base}/redirect`,setToast:!0}),s.jsx(m,{label:a("OAuth client ID","bit-integrations"),name:"clientId",placeholder:a("client ID...","bit-integrations"),value:t.clientId,onchange:c=>y(c,t,e,o,p)}),s.jsx($,{error:o.clientId}),s.jsx(m,{label:a("OAuth client secret","bit-integrations"),name:"clientSecret",placeholder:a("client Secret...","bit-integrations"),value:t.clientSecret,onchange:c=>y(c,t,e,o,p)}),s.jsx($,{error:o.clientSecret}),s.jsx(U,{url:"https://www.notion.so/my-integrations",info:a("Notion My integrations, please visit","bit-integrations")}),!d&&s.jsx(F,{onclick:()=>O(t,e,o,p,g,l,u),nextPage:T,auth:n,loading:l.auth})]}),s.jsx(D,{note:f})]})}export{V as default};
