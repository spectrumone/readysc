var B=Object.defineProperty;var q=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var P=(i,e,c)=>e in i?B(i,e,{enumerable:!0,configurable:!0,writable:!0,value:c}):i[e]=c,y=(i,e)=>{for(var c in e||(e={}))E.call(e,c)&&P(i,c,e[c]);if(q)for(var c of q(e))G.call(e,c)&&P(i,c,e[c]);return i};import{i as T,j as t,L as k}from"./main-165.js";import{j as U,m as H,_ as l,p as O,q as M,k as J,l as K,o as z,r as Q}from"./bi.312.95.js";import{b as W,r as X,d as Y,e as Z}from"./bi.110.894.js";import{T as I}from"./bi.953.732.js";function L({freshSalesConf:i,setFreshSalesConf:e}){var m;const c=T(U),{isPro:n}=c,d=(s,o)=>{const r=y({},i);o==="upsert"&&(s.target.checked?r.actions[o]=!0:delete r.actions[o]),e(y({},r))};return t.jsx(t.Fragment,{children:t.jsx("div",{className:"pos-rel d-flx w-8",children:i.moduleData.module!=="Product"&&t.jsx(H,{onChange:s=>d(s,"upsert"),checked:((m=i==null?void 0:i.actions)==null?void 0:m.upsert)||!1,className:"wdt-200 mt-4 mr-2",value:"Upsert_Record",isInfo:!n,title:l(`Upsert Record ${n?"":"(Pro)"}`,"bit-integrations"),subTitle:n?l("A record gets updated based on the unique identifier value, else a new record will be created","bit-integrations"):O(l("The Bit Integration Pro v(%s) plugin needs to be installed and activated to enable the %s feature","bit-integrations"),"2.1.1",l("Upsert Record","bit-integrations"))})})})}function C({i,formFields:e,uploadFields:c,field:n,freshSalesConf:d,setFreshSalesConf:m}){var p,j,v,g,N,w,h;const s=d.moduleData.module,o=((v=(j=(p=d.default.modules)==null?void 0:p[s])==null?void 0:j.fields)==null?void 0:v.filter(a=>a.required===!0))||[],r=((w=(N=(g=d.default.modules)==null?void 0:g[s])==null?void 0:N.fields)==null?void 0:w.filter(a=>a.required===!1))||[],D=T(U),{isPro:x}=D;return t.jsx("div",{className:"flx mt-2 mb-2 btcbi-field-map",children:t.jsxs("div",{className:"pos-rel flx",children:[t.jsxs("div",{className:"flx integ-fld-wrp",children:[t.jsxs("select",{className:"btcd-paper-inp mr-2",name:"formField",value:n.formField||"",onChange:a=>M(a,i,d,m,c),children:[t.jsx("option",{value:"",children:l("Select Field","bit-integrations")}),t.jsx("optgroup",{label:l("Form Fields","bit-integrations"),children:e.map(a=>t.jsx("option",{value:a.name,children:a.label},`ff-zhcrm-${a.name}`))}),t.jsx("option",{value:"custom",children:l("Custom...","bit-integrations")}),t.jsx("optgroup",{label:sprintf(l("General Smart Codes %s","bit-integrations"),x?"":`(${l("Pro","bit-integrations")})`),children:x&&((h=J)==null?void 0:h.map(a=>t.jsx("option",{value:a.name,children:a.label},`ff-zhcrm-${a.name}`)))})]}),n.formField==="custom"&&t.jsx(I,{onChange:a=>K(a,i,d,m),label:l("Custom Value","bit-integrations"),className:"mr-2",type:"text",value:n.customValue,placeholder:l("Custom Value","bit-integrations"),formFields:e}),t.jsxs("select",{className:"btcd-paper-inp",disabled:i<o.length,name:"freshSalesFormField",value:i<o?o[i].label||"":n.freshSalesFormField||"",onChange:a=>M(a,i,d,m,c),children:[t.jsx("option",{value:"",children:l("Select Field","bit-integrations")}),i<o.length?t.jsx("option",{value:o[i].key,children:o[i].label},o[i].key):r.map(({key:a,label:F})=>t.jsx("option",{value:a,children:F},a))]})]}),t.jsx("div",{className:"flx integ-fld-wrp",children:i>=o.length&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>z(i,d,m,c),className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),t.jsx("button",{onClick:()=>Q(i,d,m,c),className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:t.jsx("span",{className:"btcd-icn icn-trash-2"})})]})})]})})}function S({formFields:i,freshSalesConf:e,setFreshSalesConf:c,handleInput:n,isLoading:d,setIsLoading:m,setSnackbar:s}){var o,r,D,x,p,j,v,g,N,w,h,a,F,_,$,V,R,A;return t.jsxs(t.Fragment,{children:[d&&t.jsx(k,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),e.moduleData.module!==""&&((o=e.default.modules[e.moduleData.module])==null?void 0:o.required)&&!["Account","Product","Deal"].includes(e.moduleData.module)&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("br",{}),t.jsx("b",{className:"wdt-200 d-in-b",children:l("Account View:","bit-integrations")}),t.jsxs("select",{onChange:n,name:"account_view_id",value:((r=e.moduleData)==null?void 0:r.account_view_id)||"",className:"btcd-paper-inp w-5",children:[t.jsx("option",{value:"",children:l("Select Account View","bit-integrations")}),((D=e==null?void 0:e.default)==null?void 0:D.accountViews)&&e.default.accountViews.map((u,b)=>t.jsx("option",{value:u.value,children:u.label},`pipedrive-m-${b+20}`))]}),t.jsx("button",{onClick:()=>W(e,c,m,s),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${l("Refresh views","bit-integrations")}'`},type:"button",disabled:d,children:"↻"}),t.jsx("br",{}),t.jsx("br",{})]}),e.moduleData.module!==""&&((x=e.default.modules[e.moduleData.module])==null?void 0:x.required)&&!["Account","Product","Deal"].includes(e.moduleData.module)&&t.jsxs(t.Fragment,{children:[t.jsx("b",{className:"wdt-200 d-in-b",children:l("Account:","bit-integrations")}),t.jsxs("select",{onChange:n,name:"account_id",value:((p=e.moduleData)==null?void 0:p.account_id)||"",className:"btcd-paper-inp w-5",children:[t.jsx("option",{value:"",children:l("Select Account","bit-integrations")}),((j=e==null?void 0:e.default)==null?void 0:j.accounts)&&e.default.accounts.map((u,b)=>t.jsx("option",{value:u.value,children:u.label},`pipedrive-m-${b+20}`))]}),t.jsx("button",{onClick:()=>X(e,c,m,s),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${l("Refresh Accounts","bit-integrations")}'`},type:"button",disabled:d,children:"↻"}),t.jsx("br",{}),t.jsx("br",{})]}),e.moduleData.module!==""&&((v=e.default.modules[e.moduleData.module])==null?void 0:v.required)&&!["Account","Product","Contact"].includes(e.moduleData.module)&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("br",{}),t.jsx("b",{className:"wdt-200 d-in-b",children:l("Contact View:","bit-integrations")}),t.jsxs("select",{onChange:n,name:"contact_view_id",value:((g=e.moduleData)==null?void 0:g.contact_view_id)||"",className:"btcd-paper-inp w-5",children:[t.jsx("option",{value:"",children:l("Select Contact View","bit-integrations")}),((N=e==null?void 0:e.default)==null?void 0:N.contactViews)&&e.default.contactViews.map((u,b)=>t.jsx("option",{value:u.value,children:u.label},`pipedrive-m-${b+20}`))]}),t.jsx("button",{onClick:()=>Y(e,c,m,s),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${l("Refresh views","bit-integrations")}'`},type:"button",disabled:d,children:"↻"})]}),e.moduleData.module!==""&&((w=e.default.modules[e.moduleData.module])==null?void 0:w.required)&&!["Account","Product","Contact"].includes(e.moduleData.module)&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("br",{}),t.jsx("b",{className:"wdt-200 d-in-b",children:l("Contact:","bit-integrations")}),t.jsxs("select",{onChange:n,name:"contact_id",value:((h=e.moduleData)==null?void 0:h.contact_id)||"",className:"btcd-paper-inp w-5",children:[t.jsx("option",{value:"",children:l("Select Contact","bit-integrations")}),((a=e==null?void 0:e.default)==null?void 0:a.contacts)&&e.default.contacts.map((u,b)=>t.jsx("option",{value:u.value,children:u.label},`pipedrive-m-${b+20}`))]}),t.jsx("button",{onClick:()=>Z(e,c,m,s),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${l("Refresh Contacts","bit-integrations")}'`},type:"button",disabled:d,children:"↻"}),t.jsx("br",{}),t.jsx("br",{})]}),e.moduleData.module&&(($=(_=(F=e.default)==null?void 0:F.modules)==null?void 0:_[e.moduleData.module])==null?void 0:$.fields)&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mt-4",children:t.jsx("b",{className:"wdt-100",children:l("Field Map","bit-integrations")})}),t.jsx("div",{className:"btcd-hr mt-1"}),t.jsxs("div",{className:"flx flx-around mt-2 mb-2 btcbi-field-map-label",children:[t.jsx("div",{className:"txt-dp",children:t.jsx("b",{children:l("Form Fields","bit-integrations")})}),t.jsx("div",{className:"txt-dp",children:t.jsx("b",{children:l("FreshSales Fields","bit-integrations")})})]}),e.field_map.map((u,b)=>t.jsx(C,{i:b,field:u,freshSalesConf:e,formFields:i,setFreshSalesConf:c,setSnackbar:s},`pipedrive-m-${b+9}`)),t.jsx("div",{className:"txt-center btcbi-field-map-button mt-2",children:t.jsx("button",{onClick:()=>z(e.field_map.length,e,c,!1),className:"icn-btn sh-sm",type:"button",children:"+"})}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("div",{className:"mt-4",children:t.jsx("b",{className:"wdt-100",children:l("Utilities","bit-integrations")})}),t.jsx("div",{className:"btcd-hr mt-1"}),t.jsx(L,{freshSalesConf:e,setFreshSalesConf:c,isLoading:d,setIsLoading:m,setSnackbar:s})]}),e.moduleData.module&&!((A=(R=(V=e.default)==null?void 0:V.modules)==null?void 0:R[e.moduleData.module])!=null&&A.fields)&&t.jsx(k,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}})]})}function ct({formID:i,formFields:e,handleInput:c,freshSalesConf:n,setFreshSalesConf:d,isLoading:m,setIsLoading:s,setSnackbar:o}){return t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("b",{className:"wdt-200 d-in-b",children:l("Module:","bit-integrations")}),t.jsxs("select",{onChange:c,name:"module",value:n.moduleData.module,className:"btcd-paper-inp w-5",disabled:m,children:[t.jsx("option",{value:"",children:l("Select Module","bit-integrations")}),Object.keys(n.default.modules).map(r=>t.jsx("option",{value:r,children:r},r))]}),t.jsx("br",{}),t.jsxs("div",{children:[n.moduleData.module!=="Account"&&t.jsx("div",{className:"btcd-hr"}),t.jsx(S,{formFields:e,freshSalesConf:n,setFreshSalesConf:d,handleInput:c,isLoading:m,setIsLoading:s,setSnackbar:o})]}),t.jsx("br",{})]})}export{ct as F};
